(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([[7],{1944:function(e,t,n){"use strict";n.r(t),n.d(t,"resources",(function(){return s}));const s={"blockcount.js":async function(e){let{addon:t,console:n,msg:s}=e;const o=await t.tab.traps.getBlockly(),c=t.tab.traps.vm;let r;const a=()=>{const e=(()=>{let e=0;const t=c.runtime.targets.filter(e=>e.isOriginal).map(e=>[e.id,Object.values(e.blocks._blocks).filter(e=>!e.shadow).length]);for(const n of t)e+=n[1];return e})();r.innerText=e+(1===e?" block":" blocks")},i=()=>{let e,t=0;c.on("workspaceUpdate",()=>queueMicrotask(()=>{a();const n=o.mainWorkspace,s=o.Events,c=e=>{const n=Date.now();r&&n>t+150&&(e.type===s.DELETE||e.type===s.CREATE)&&(t=n,setTimeout(a,200))};e!==n.id&&(n.addChangeListener(c),e=n.id)}))};(()=>{let e=!1;ReduxStore.subscribe(()=>{if(!r||e){const t=document.querySelector("div[class^='menu-bar_main-menu']");if(!t)return;if(e)return void queueMicrotask(()=>{t.appendChild(r)});r=t.appendChild(document.createElement("span")),r.style.order=1,r.style.padding="9px",r.innerText="",a(),i()}else{ReduxStore.getState().scratchGui.mode.isPlayerOnly&&(e=!0)}})})()}}}}]);